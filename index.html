<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Celebrate a Sale üéâ</title>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600&display=swap" rel="stylesheet">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" type="image/png" href="favicon.png">

  <style>
    body {
      font-family: 'Montserrat', sans-serif;
      background: linear-gradient(135deg, #081216, #14232b, #1c2f3a);
      color: white;
      display: flex;
      flex-direction: column;
      align-items: center;
      margin: 0;
      min-height: 100vh;
      padding: 20px;
    }

    /* Refined logo styling ‚Äî tighter gold frame that fits perfectly */
.logo {
  width: 100px; /* slightly smaller to offset border/padding */
  margin: 20px auto 10px auto;
  cursor: pointer;
  display: block;
  border: 2px solid gold; /* thinner frame */
  border-radius: 12px;
  padding: 3px; /* reduced padding */
  background: rgba(255, 215, 0, 0.05);
  box-shadow: 0 0 10px rgba(255, 215, 0, 0.25);
  transition: all 0.3s ease;
}

.logo:hover {
  transform: scale(1.05);
  box-shadow: 0 0 20px rgba(255, 215, 0, 0.45);
}
/* Keep logo + text perfectly centered together */
.intro-container {
  display: flex;
  flex-direction: column;
  align-items: center;  /* centers horizontally */
  justify-content: center;
  text-align: center;
  width: 100%;
}

}

    }

    .intro-text {
      max-width: 400px;
      text-align: center;
      font-size: 0.75rem;
      color: white;
      margin-bottom: 40px;
      line-height: 1.3;
    }

    .card {
      background: rgba(255, 255, 255, 0.08);
      backdrop-filter: blur(10px);
      border-radius: 15px;
      padding: 20px;
      box-shadow: 0 8px 20px rgba(0,0,0,0.4);
      width: 320px;
      text-align: left;
    }

    label {
      display: block;
      margin-top: 10px;
      font-weight: 600;
      color: white;
    }

    input, select {
      width: 100%;
      padding: 8px;
      margin-top: 5px;
      border-radius: 8px;
      border: none;
      font-size: 1rem;
    }

    .tip {
      font-size: 0.8rem;
      opacity: 0.8;
      margin: 5px 0;
    }

    .btn {
      margin-top: 15px;
      width: 100%;
      padding: 12px;
      border-radius: 8px;
      border: none;
      background: linear-gradient(to right, #ff5f6d, #ffc371);
      color: white;
      font-weight: 600;
      font-size: 1.1rem;
      cursor: pointer;
      transition: transform 0.2s ease, box-shadow 0.2s ease;
    }

    .btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(255, 255, 255, 0.3);
    }

    .btn span {
      display: block;
      font-size: 12px;
      font-weight: 400;
      margin-top: 4px;
    }

    #shareLink {
      margin-top: 12px;
      width: 100%;
      padding: 10px;
      border-radius: 10px;
      border: none;
      font-size: 14px;
      background: rgba(255,255,255,0.9);
      color: #333;
      text-align: center;
    }

    #openCelebration {
      margin-top: 10px;
    }

    /* Celebration page */
    #resultPage {
      display: none;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
      text-align: center;
      width: 100%;
      min-height: 100vh;
      padding: 20px;
      box-sizing: border-box;
      animation: fadeIn 1s ease;
    }

    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    video {
      width: 80%;
      max-width: 900px;
      height: auto;
      border-radius: 12px;
      margin: 20px 0;
    }

    #celebrationTitle {
      font-size: 1.9rem;
      font-weight: 700;
      color: gold;
      margin-top: 15px;
    }

    #summaryText {
      font-size: 1.3rem;
      font-weight: 500;
      margin-top: 10px;
      color: gold;
      text-shadow: 1px 1px 3px rgba(0,0,0,0.5);
      max-width: 80%;
      line-height: 1.5;
      opacity: 0;
      animation: fadeInText 2s ease forwards;
      animation-delay: 1s;
    }

    @keyframes fadeInText {
      to { opacity: 1; transform: translateY(0); }
    }

    #toggleMusic {
      width: auto;
      padding: 10px 14px;
      margin-top: 20px;
      border-radius: 8px;
      border: none;
      background: linear-gradient(to right, #ff5f6d, #ffc371);
      color: white;
      font-weight: 600;
      cursor: pointer;
    }
/* ‚úÖ Responsive alignment for intro text on all devices */
@media (max-width: 600px) {
  .intro-text {
    font-size: 0.75rem;       /* smaller text on phones */
    line-height: 1.3;         /* tighter spacing */
    max-width: 90%;           /* fits neatly on small screens */
    margin: 0 auto 20px auto; /* keeps centered */
    text-align: center;       /* ensure perfect center alignment */
  }

  .logo {
    width: 90px;              /* slightly smaller logo on mobile */
  }
}

  </style>
</head>

<body>
  <!-- Form Page -->
 <div class="intro-container">
  <img src="logo.png" alt="Celebrate a Sale Logo" class="logo" id="mainLogo">
  <div class="intro-text">
    We want all salespeople to feel the love for an amazing deal. Even if you work remote.
    Generate a celebration-link and bomb your colleagues with your greatness.
  </div>
</div>

  <div id="formPage" class="card">
    <label>üë§ Salesperson:</label>
    <input id="salesperson" type="text" placeholder="Your name here">

    <label>üè¢ Customer:</label>
    <input id="customer" type="text" placeholder="e.g., IKEA">

    <label>üí∞ Amount:</label>
    <input id="amount" type="text" placeholder="e.g., 150000 or 150k">
    <div class="tip">Tip: Enter the currency or unit of the deal in the Amount field.</div>

    <label>üìà Deal Size:</label>
    <select id="dealSize">
      <option value="small">Small Potatos</option>
      <option value="big">BIG Potatos</option>
      <option value="huge">The Huge Whale</option>
    </select>

    <button class="btn" onclick="generateLink()">üéâ Celebrate!
      <span>(generate link + copy link)</span>
    </button>

    <input id="shareLink" type="text" readonly placeholder="Your link will appear here">
    <button id="openCelebration" class="btn" onclick="openCelebration()">Open your celebration page</button>
  </div>

  <!-- Celebration Page -->
  <div id="resultPage">
    <a href="index.html"><img src="logo.png" alt="Celebrate a Sale Logo" class="logo"></a>
    <div id="celebrationTitle">Attention! Deal-alert üö®</div>
    <video id="celebrationVideo" autoplay muted loop playsinline></video>
    <div id="summaryText"></div>
    <button id="toggleMusic" onclick="toggleMusic()">üîä Play Music</button>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.3/dist/confetti.browser.min.js"></script>
  <script>
  const formPage = document.getElementById("formPage");
  const resultPage = document.getElementById("resultPage");
  const videoEl = document.getElementById("celebrationVideo");
  const summaryText = document.getElementById("summaryText");
  const shareLink = document.getElementById("shareLink");
  const introText = document.querySelector(".intro-text");
  const mainLogo = document.getElementById("mainLogo");
  let music = null;

  function generateLink() {
    const salesperson = document.getElementById("salesperson").value.trim();
    const customer = document.getElementById("customer").value.trim();
    const amount = document.getElementById("amount").value.trim();
    const dealSize = document.getElementById("dealSize").value;

    const params = new URLSearchParams({ salesperson, customer, amount, dealSize });
    const url = `${window.location.origin}${window.location.pathname}?${params.toString()}`;
    shareLink.value = url;

    shareLink.select();
    document.execCommand("copy");
    alert("Link generated and copied!");
  }

  function openCelebration() {
    const link = shareLink.value.trim();
    if (link) window.open(link, "_blank");
    else alert("Please generate a link first!");
  }

  function showCelebration(salesperson, customer, amount, dealSize) {
    formPage.style.display = "none";
    introText.style.display = "none";
    mainLogo.style.display = "none"; // üëà hides top logo
    resultPage.style.display = "flex";

    let videoFile = "";
    let musicFile = "";
    let dealWord = "";

    if (dealSize === "small") {
      videoFile = "small.mp4";
      musicFile = "big.mp3";
      dealWord = "nice";
    } else if (dealSize === "big") {
      videoFile = "big.mp4";
      musicFile = "big.mp3";
      dealWord = "big";
    } else {
      videoFile = "huge.mp4";
      musicFile = "huge.mp3";
      dealWord = "huge";
    }

    videoEl.src = videoFile;
    summaryText.textContent = `Our genius salesman ${salesperson} just closed a ${dealWord} deal with ${customer} worth ${amount}.`;

    if (music) {
      music.pause();
      music = null;
    }
    music = new Audio(musicFile);
    music.loop = true;
    music.volume = 0.6;
    music.play().catch(() => {
      document.body.addEventListener('click', () => music.play(), { once: true });
    });

    const end = Date.now() + 2500;
    const confettiCount = dealSize === "huge" ? 30 : 60;
    (function frame() {
      const timeLeft = end - Date.now();
      if (timeLeft <= 0) return;
      confetti({
        particleCount: confettiCount,
        spread: 70,
        origin: { x: Math.random(), y: Math.random() - 0.2 }
      });
      requestAnimationFrame(frame);
    })();
  }

  function toggleMusic() {
    if (!music) return;
    if (music.paused) music.play();
    else music.pause();
  }

  window.onload = () => {
    const params = new URLSearchParams(window.location.search);
    if (params.has("salesperson")) {
      showCelebration(
        params.get("salesperson"),
        params.get("customer"),
        params.get("amount"),
        params.get("dealSize")
      );
    }
  };
</script>

    
  </script>
</body>
</html>
